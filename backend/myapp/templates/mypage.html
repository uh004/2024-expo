<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>내정보</title>

    <!-- Django의 static 태그를 사용해 경로 수정 -->
    {% load static %}

    <!-- CSS 경로 수정 -->
    <link rel="stylesheet" href="{% static 'css/reset.css' %}">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">

</head>
<body>
    <div class="frame">

        <nav class="header">
            <!-- 이미지 경로 수정 -->
            <img src="{% static 'img/logo.png' %}" alt="로고">
            <ul>
                <!-- URL 경로 수정 -->
                <li><a href="{% url 'main' %}" class="neon-effect">홈</a></li>
                <li><a href="{% url 'gamerule' %}" class="neon-effect">게임방법</a></li>
                <li><a href="{% url 'rank' %}" class="neon-effect">랭킹</a></li>
                <li><a href="{% url 'comunity' %}" class="neon-effect">커뮤니티</a></li>
                <li><a href="{% url 'mypage' %}" class="neon-effect">내정보</a></li>
            </ul>
        </nav>

    <!-- 내정보 섹션 시작 -->
    <div class="mypage-container">
        <div class="profile-section">
            <!-- 이미지에 클릭 이벤트 추가 -->
            <img src="{% static 'img/hachuping.png' %}" alt="Player Avatar" class="avatar" onclick="logout()">
            <div class="player-info">
                <h1>플레이어 이름: <span id="playerName">{{ nickname }}</span></h1> <!-- 여기에 닉네임이 표시됨 -->
                <p>레벨: <span id="playerLevel">1</span></p>
            </div>
        </div>
    
        <div class="stats-section">
            <h2>플레이어 통계</h2>
            <div class="stat">총 플레이 시간: <span id="playTime">0분</span></div>
            <div class="stat">최고 점수: <span id="highScore">0점</span></div>
            <div class="stat">랭킹: <span id="ranking">상위 ??%</span></div>
        </div>
    
        <div class="playlist-section">
            <h2>즐겨찾는 곡</h2>
            <ul id="favoriteSongs">
                <li>나는 아픈건 딱 질색이니까</li>
                <li>모기송</li>
                <li>Supersonic</li>
            </ul>
        </div>
    </div>

    <div class="footer"></div>

    <!-- JavaScript 파일 경로 수정 -->
    <script src="{% static 'js/mypage.js' %}"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // localStorage에서 닉네임 대신 세션을 사용
            const nicknameFromServer = "{{ nickname }}";  // 서버에서 받은 닉네임
            
            if (nicknameFromServer) {
                document.getElementById('playerName').textContent = nicknameFromServer;
            } else {
                document.getElementById('playerName').textContent = "하츄핑";  // 기본값
            }
        });
    </script>  
</body>
</html>
