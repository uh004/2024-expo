<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì»¤ë®¤ë‹ˆí‹°</title>

  <!-- Djangoì˜ static íƒœê·¸ ì‚¬ìš© -->
  {% load static %}

  <!-- CSS ê²½ë¡œ ìˆ˜ì • -->
  <link rel="stylesheet" href="{% static 'css/reset.css' %}">
  <link rel="stylesheet" href="{% static 'css/main.css' %}">

  <!-- ì™¸ë¶€ í°íŠ¸ ë° ì•„ì´ì½˜ ë¡œë“œ -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <!-- í°íŠ¸ -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR&display=swap" rel="stylesheet">
  <!-- font-family: 'IBM Plex Sans KR', sans-serif; -->

  <!-- JS ê²½ë¡œ ìˆ˜ì • -->
    <script src="{% static 'js/comunity.js' %}"></script>

    <script>
    var writeUrl = "{% url 'write' %}";
    // ê²Œì‹œë¬¼ ìƒì„¸ ë³´ê¸° í•¨ìˆ˜
    function showPostDetail(postId) {
        document.getElementById("board-list").style.display = "none";
        document.getElementById("post-detail").style.display = "block";
        document.getElementById("new-post-section").style.display = "none";

        const posts = {
            "1": { title: "ì²« ë²ˆì§¸ ê²Œì‹œë¬¼ ì œëª©", content: "ì§‘ ê°€ê³  ì‹¶ì€ë° ì–´ë–»ê²Œ í•´ì•¼ í•¨?." },
            "2": { title: "ë‘ ë²ˆì§¸ ê²Œì‹œë¬¼ ì œëª©", content: "ì´ê±´ ë‘ ë²ˆì§¸ ê²Œì‹œë¬¼ì˜ ë‚´ìš©ì…ë‹ˆë‹¤." }
        };

        const post = posts[postId];
        document.getElementById("detail-title").innerText = post.title;
        document.getElementById("detail-content").innerText = post.content;
    }

    let likeCount = 0;
    function increaseLike() {
        likeCount++;
        document.getElementById("like-count").innerText = likeCount;
    }

    let commentCount = 0;
    // ëŒ“ê¸€ ë“±ë¡ ë²„íŠ¼ í´ë¦­ ì‹œ
    function submitComment() {
        const commentInput = document.getElementById("comment-input");
        const commentText = commentInput.value.trim();

        if (commentText) {
            const commentList = document.getElementById("comment-list");
            const newComment = document.createElement("div");
            newComment.classList.add("comment");
            newComment.innerText = commentText;

            commentList.appendChild(newComment);

            commentCount++;
            document.getElementById("comment-count").innerText = commentCount;
            commentInput.value = ""; // ì…ë ¥ì°½ ì´ˆê¸°í™”
        }
    }

  // ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°
  function backToList() {
      // ê²Œì‹œë¬¼ ë¦¬ìŠ¤íŠ¸ ë³´ì—¬ì£¼ê¸°
      document.getElementById("board-list").style.display = "block";
      // ê²Œì‹œë¬¼ ìƒì„¸ë³´ê¸° ìˆ¨ê¸°ê¸°
      document.getElementById("post-detail").style.display = "none";
      // ìƒˆ ê¸€ ì‘ì„± ë²„íŠ¼ ë‹¤ì‹œ ë³´ì—¬ì£¼ê¸°
      var newPostSection = document.getElementById("new-post-section");
      newPostSection.style.display = "flex"; // ì›ë˜ flexë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ìœ ì§€
      newPostSection.style.width = "65%";    // ê¸°ë³¸ ë„ˆë¹„ ìœ ì§€
  }
</script>
</head>
<body>
  <div class="frame2">
    <!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
    <nav class="header">
      <!-- ì´ë¯¸ì§€ ê²½ë¡œ ìˆ˜ì • -->
      <img src="{% static 'img/logo.png' %}" alt="ë¡œê³ ">
      <ul>
        <!-- URL ê²½ë¡œ ìˆ˜ì • -->
        <li><a href="{% url 'main' %}" class="neon-effect">í™ˆ</a></li>
        <li><a href="{% url 'gamerule' %}" class="neon-effect">ê²Œì„ë°©ë²•</a></li>
        <li><a href="{% url 'rank' %}" class="neon-effect">ë­í‚¹</a></li>
        <li><a href="{% url 'comunity' %}" class="neon-effect">ì»¤ë®¤ë‹ˆí‹°</a></li>
        <li><a href="{% url 'mypage' %}" class="neon-effect">ë‚´ì •ë³´</a></li>
      </ul>
    </nav>

    <!-- ê²€ìƒ‰ ë°” -->
    <div class="search-bar">
        <input type="text" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
        <button>ê²€ìƒ‰</button>
    </div>

    <div class="container">
        <!-- ë©”ì¸ ì½˜í…ì¸  (ììœ ê²Œì‹œíŒ) -->
        <div class="main-content">
            <h2 class="board-title">ììœ ê²Œì‹œíŒ</h2>

            <!-- ê²Œì‹œë¬¼ ë¦¬ìŠ¤íŠ¸ -->
            <div id="board-list" class="post-list">
                <div class="post-item">
                    <div class="post-title">
                        <a href="#" onclick="showPostDetail('1')">ì²« ë²ˆì§¸ ê²Œì‹œë¬¼ ì œëª©</a>
                    </div>
                    <div class="post-info">ì‘ì„±ì: ì´ê±´í˜¸ | ì‘ì„±ì¼: 2024.09.09</div>
                </div>
                <div class="post-item">
                    <div class="post-title">
                        <a href="#" onclick="showPostDetail('2')">ë‘ ë²ˆì§¸ ê²Œì‹œë¬¼ ì œëª©</a>
                    </div>
                    <div class="post-info">ì‘ì„±ì: ë°°ìˆ˜í•œ | ì‘ì„±ì¼: 2024.09.08</div>
                </div>
            </div>

            <!-- ê²Œì‹œë¬¼ ìƒì„¸ ë³´ê¸° (ìˆ¨ê¹€ ì²˜ë¦¬ëœ ìƒíƒœë¡œ ì‹œì‘) -->
            <div id="post-detail" style="display: none;">
                <div class="post-container">
                    <div class="post-header">
                        <h2 id="detail-title"></h2>
                    </div>
                    <div class="post-content">
                        <p id="detail-content"></p>
                        <!-- ì´ë¯¸ì§€ê°€ ìˆì„ ê²½ìš° ë³´ì—¬ì¤„ ë¶€ë¶„ -->
                        <div id="post-image" class="post-media">
                            <img src="{% static 'img/post-image.jpeg' %}" alt="ê²Œì‹œë¬¼ ì´ë¯¸ì§€" class="responsive-image">
                        </div>
                        <!-- ë™ì˜ìƒì´ ìˆì„ ê²½ìš° ë³´ì—¬ì¤„ ë¶€ë¶„ -->
                        <div class="video-container">
                            <div class="video-frame">
                                <video controls class="video-content">
                                    <source src="{% static 'video/á„…á…³á„‰á…¦á„…á…¡á„‘á…µá†·easy.mp4' %}" type="video/mp4">
                                    ë¸Œë¼ìš°ì €ê°€ ë™ì˜ìƒì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
                                </video>
                            </div>
                        </div>
                    </div>
                    <div class="post-actions">
                        <button class="like-btn" onclick="increaseLike()">ğŸ‘ ì¢‹ì•„ìš”</button> 
                        <span id="like-count">0</span> Â· ğŸ’¬ ëŒ“ê¸€ <span id="comment-count">0</span>
                    </div>
                </div>

                <!-- ëŒ“ê¸€ ì…ë ¥ -->
                <div class="comment-section">
                    <textarea id="comment-input" placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                    <button onclick="submitComment()">ëŒ“ê¸€ ë“±ë¡</button>
                </div>

                <!-- ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸ -->
                <div id="comment-list"></div>

                <!-- ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸° ë²„íŠ¼ -->
                <button onclick="backToList()">ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
            </div>
        </div>

        <!-- ìš°ì¸¡ ì‚¬ì´ë“œë°” (ì¡°íšŒ ë§ì€ ê¸€, HOT ê²Œì‹œë¬¼, BEST ê²Œì‹œë¬¼) -->
        <div class="right-sidebar">
            <div class="popular-posts">
                <h3>ì‹¤ì‹œê°„ ì¸ê¸° ê¸€</h3>
                <div class="popular-post">
                    <div class="post-title">ì¸ê¸° ê²Œì‹œë¬¼ 1</div>
                    <div class="post-stats">ì¢‹ì•„ìš”: 10 | ëŒ“ê¸€: 5</div>
                </div>
                <div class="popular-post">
                    <div class="post-title">ì¸ê¸° ê²Œì‹œë¬¼ 2</div>
                    <div class="post-stats">ì¢‹ì•„ìš”: 8 | ëŒ“ê¸€: 3</div>
                </div>
            </div>

            <div class="popular-posts">
                <h3>HOT ê²Œì‹œë¬¼</h3>
                <div class="popular-post">
                    <div class="post-title">HOT ê²Œì‹œë¬¼ 1</div>
                    <div class="post-stats">ì¢‹ì•„ìš”: 13 | ëŒ“ê¸€: 6</div>
                </div>
            </div>

            <div class="popular-posts">
                <h3>BEST ê²Œì‹œë¬¼</h3>
                <div class="popular-post">
                    <div class="post-title">BEST ê²Œì‹œë¬¼ 1</div>
                    <div class="post-stats">ì¢‹ì•„ìš”: 25 | ëŒ“ê¸€: 10</div>
                </div>
            </div>
        </div>
    </div>

    <!-- ìƒˆ ê¸€ ì‘ì„± ë²„íŠ¼ -->
    <div class="new-post" id="new-post-section">
        <input type="text" placeholder="ìƒˆ ê¸€ì„ ì‘ì„±í•´ ì£¼ì„¸ìš”!" disabled />
        <button class="new-post-btn" onclick="window.location.href=writeUrl;">
            <i class="fa-solid fa-pencil" style="color: #63E6BE;"></i>
        </button>
    </div>

    <div class="footer-space"></div>

</div>
</body>
</html>
